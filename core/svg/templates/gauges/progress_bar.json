{
  "templates": [
    {
      "template_id": "gauge_progress_bar",
      "name": "Progress Bar",
      "category": "gauges",
      "subcategory": "progress_bar",
      "description": "Linear horizontal progress bar showing percentage complete.",
      "complexity": "basic",
      "preview_svg": "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 20'><rect x='0' y='5' width='120' height='10' rx='5' fill='%23E5E7EB'/><rect x='0' y='5' width='84' height='10' rx='5' fill='%230EA5E9'/></svg>",
      "dax_template": "{{measure_name}} =\nVAR _value = {{value_measure}}\nVAR _maxValue = {{max_value}}\nVAR _pct = MIN(MAX(_value / _maxValue, 0), 1)\nVAR _width = {{width}}\nVAR _height = {{height}}\nVAR _filledWidth = _pct * _width\nVAR _cornerRadius = _height / 2\nVAR _svg = \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 \" & _width & \" \" & _height & \"'><rect x='0' y='0' width='\" & _width & \"' height='\" & _height & \"' rx='\" & _cornerRadius & \"' fill='{{color_background}}'/><rect x='0' y='0' width='\" & FORMAT(_filledWidth, \"0.0\") & \"' height='\" & _height & \"' rx='\" & _cornerRadius & \"' fill='{{color_fill}}'/></svg>\"\nRETURN \"data:image/svg+xml;utf8,\" & _svg",
      "parameters": [
        {
          "name": "measure_name",
          "type": "string",
          "required": true,
          "description": "Name for the new SVG measure"
        },
        {
          "name": "value_measure",
          "type": "measure",
          "required": true,
          "description": "Current value measure"
        },
        {
          "name": "max_value",
          "type": "scalar",
          "required": false,
          "default": 1,
          "description": "Maximum value (default 1 for percentage)"
        },
        {
          "name": "width",
          "type": "scalar",
          "required": false,
          "default": 120,
          "description": "Bar width in pixels"
        },
        {
          "name": "height",
          "type": "scalar",
          "required": false,
          "default": 16,
          "description": "Bar height in pixels"
        },
        {
          "name": "color_fill",
          "type": "color",
          "required": false,
          "default": "%230EA5E9",
          "description": "Progress fill color"
        },
        {
          "name": "color_background",
          "type": "color",
          "required": false,
          "default": "%23E5E7EB",
          "description": "Background track color"
        }
      ],
      "supported_visuals": ["table", "matrix", "card"],
      "tags": ["gauge", "progress", "bar", "percentage"],
      "source": "Common pattern",
      "version": "1.0.0"
    },
    {
      "template_id": "gauge_progress_bar_labeled",
      "name": "Progress Bar with Label",
      "category": "gauges",
      "subcategory": "progress_bar",
      "description": "Progress bar with percentage label displayed inside or beside.",
      "complexity": "intermediate",
      "preview_svg": "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 150 20'><rect x='0' y='5' width='120' height='10' rx='5' fill='%23E5E7EB'/><rect x='0' y='5' width='84' height='10' rx='5' fill='%230EA5E9'/><text x='130' y='14' font-size='10' fill='%23374151' font-weight='bold'>70%</text></svg>",
      "dax_template": "{{measure_name}} =\nVAR _value = {{value_measure}}\nVAR _maxValue = {{max_value}}\nVAR _pct = MIN(MAX(_value / _maxValue, 0), 1)\nVAR _barWidth = {{bar_width}}\nVAR _height = {{height}}\nVAR _totalWidth = _barWidth + 35\nVAR _filledWidth = _pct * _barWidth\nVAR _cornerRadius = _height / 2\nVAR _pctText = FORMAT(_pct * 100, \"0\") & \"%25\"\nVAR _svg = \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 \" & _totalWidth & \" \" & _height & \"'><rect x='0' y='0' width='\" & _barWidth & \"' height='\" & _height & \"' rx='\" & _cornerRadius & \"' fill='{{color_background}}'/><rect x='0' y='0' width='\" & FORMAT(_filledWidth, \"0.0\") & \"' height='\" & _height & \"' rx='\" & _cornerRadius & \"' fill='{{color_fill}}'/><text x='\" & (_barWidth + 5) & \"' y='\" & (_height * 0.75) & \"' font-size='\" & (_height * 0.65) & \"' fill='{{color_text}}' font-weight='bold'>\" & _pctText & \"</text></svg>\"\nRETURN \"data:image/svg+xml;utf8,\" & _svg",
      "parameters": [
        {
          "name": "measure_name",
          "type": "string",
          "required": true,
          "description": "Name for the new SVG measure"
        },
        {
          "name": "value_measure",
          "type": "measure",
          "required": true,
          "description": "Current value measure"
        },
        {
          "name": "max_value",
          "type": "scalar",
          "required": false,
          "default": 1,
          "description": "Maximum value"
        },
        {
          "name": "bar_width",
          "type": "scalar",
          "required": false,
          "default": 100,
          "description": "Bar width (total includes label)"
        },
        {
          "name": "height",
          "type": "scalar",
          "required": false,
          "default": 16,
          "description": "Bar height"
        },
        {
          "name": "color_fill",
          "type": "color",
          "required": false,
          "default": "%230EA5E9",
          "description": "Progress fill color"
        },
        {
          "name": "color_background",
          "type": "color",
          "required": false,
          "default": "%23E5E7EB",
          "description": "Background track color"
        },
        {
          "name": "color_text",
          "type": "color",
          "required": false,
          "default": "%23374151",
          "description": "Label text color"
        }
      ],
      "supported_visuals": ["table", "matrix"],
      "tags": ["gauge", "progress", "bar", "label", "percentage"],
      "source": "Common pattern",
      "version": "1.0.0"
    },
    {
      "template_id": "gauge_progress_bar_conditional",
      "name": "Conditional Progress Bar",
      "category": "gauges",
      "subcategory": "progress_bar",
      "description": "Progress bar that changes color based on threshold levels.",
      "complexity": "intermediate",
      "preview_svg": "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 16'><rect x='0' y='0' width='120' height='16' rx='8' fill='%23E5E7EB'/><rect x='0' y='0' width='40' height='16' rx='8' fill='%23DC2626'/></svg>",
      "dax_template": "{{measure_name}} =\nVAR _value = {{value_measure}}\nVAR _maxValue = {{max_value}}\nVAR _pct = MIN(MAX(_value / _maxValue, 0), 1)\nVAR _thresholdLow = {{threshold_low}}\nVAR _thresholdHigh = {{threshold_high}}\nVAR _width = {{width}}\nVAR _height = {{height}}\nVAR _filledWidth = _pct * _width\nVAR _cornerRadius = _height / 2\nVAR _fillColor =\n    SWITCH(\n        TRUE(),\n        _pct < _thresholdLow, \"{{color_bad}}\",\n        _pct < _thresholdHigh, \"{{color_warning}}\",\n        \"{{color_good}}\"\n    )\nVAR _svg = \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 \" & _width & \" \" & _height & \"'><rect x='0' y='0' width='\" & _width & \"' height='\" & _height & \"' rx='\" & _cornerRadius & \"' fill='{{color_background}}'/><rect x='0' y='0' width='\" & FORMAT(_filledWidth, \"0.0\") & \"' height='\" & _height & \"' rx='\" & _cornerRadius & \"' fill='\" & _fillColor & \"'/></svg>\"\nRETURN \"data:image/svg+xml;utf8,\" & _svg",
      "parameters": [
        {
          "name": "measure_name",
          "type": "string",
          "required": true,
          "description": "Name for the new SVG measure"
        },
        {
          "name": "value_measure",
          "type": "measure",
          "required": true,
          "description": "Current value measure"
        },
        {
          "name": "max_value",
          "type": "scalar",
          "required": false,
          "default": 1,
          "description": "Maximum value"
        },
        {
          "name": "threshold_low",
          "type": "scalar",
          "required": false,
          "default": 0.33,
          "description": "Below this = bad color"
        },
        {
          "name": "threshold_high",
          "type": "scalar",
          "required": false,
          "default": 0.67,
          "description": "Above this = good color"
        },
        {
          "name": "width",
          "type": "scalar",
          "required": false,
          "default": 120,
          "description": "Bar width"
        },
        {
          "name": "height",
          "type": "scalar",
          "required": false,
          "default": 16,
          "description": "Bar height"
        },
        {
          "name": "color_good",
          "type": "color",
          "required": false,
          "default": "%2316A34A",
          "description": "Good state color"
        },
        {
          "name": "color_warning",
          "type": "color",
          "required": false,
          "default": "%23F59E0B",
          "description": "Warning state color"
        },
        {
          "name": "color_bad",
          "type": "color",
          "required": false,
          "default": "%23DC2626",
          "description": "Bad state color"
        },
        {
          "name": "color_background",
          "type": "color",
          "required": false,
          "default": "%23E5E7EB",
          "description": "Background track color"
        }
      ],
      "supported_visuals": ["table", "matrix", "card"],
      "tags": ["gauge", "progress", "conditional", "threshold"],
      "source": "Common pattern",
      "version": "1.0.0"
    },
    {
      "template_id": "gauge_progress_steps",
      "name": "Step Progress Indicator",
      "category": "gauges",
      "subcategory": "progress_bar",
      "description": "Discrete step indicator showing progress through phases.",
      "complexity": "intermediate",
      "preview_svg": "<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 20'><circle cx='15' cy='10' r='8' fill='%230EA5E9'/><circle cx='45' cy='10' r='8' fill='%230EA5E9'/><circle cx='75' cy='10' r='8' fill='%230EA5E9'/><circle cx='105' cy='10' r='8' fill='%23E5E7EB'/><line x1='23' y1='10' x2='37' y2='10' stroke='%230EA5E9' stroke-width='3'/><line x1='53' y1='10' x2='67' y2='10' stroke='%230EA5E9' stroke-width='3'/><line x1='83' y1='10' x2='97' y2='10' stroke='%23E5E7EB' stroke-width='3'/></svg>",
      "dax_template": "{{measure_name}} =\nVAR _currentStep = {{current_step}}\nVAR _totalSteps = {{total_steps}}\nVAR _width = {{width}}\nVAR _height = {{height}}\nVAR _radius = _height / 2.5\nVAR _spacing = (_width - (2 * _radius)) / MAX(_totalSteps - 1, 1)\nVAR _steps =\n    CONCATENATEX(\n        GENERATESERIES(1, _totalSteps),\n        VAR _idx = [Value]\n        VAR _cx = _radius + (_idx - 1) * _spacing\n        VAR _isComplete = _idx <= _currentStep\n        VAR _circleColor = IF(_isComplete, \"{{color_complete}}\", \"{{color_incomplete}}\")\n        VAR _lineEnd = IF(_idx < _totalSteps, _radius + _idx * _spacing - _radius, 0)\n        VAR _lineColor = IF(_idx < _currentStep, \"{{color_complete}}\", \"{{color_incomplete}}\")\n        VAR _line = IF(_idx < _totalSteps, \"<line x1='\" & FORMAT(_cx + _radius, \"0\") & \"' y1='\" & FORMAT(_height/2, \"0\") & \"' x2='\" & FORMAT(_lineEnd, \"0\") & \"' y2='\" & FORMAT(_height/2, \"0\") & \"' stroke='\" & _lineColor & \"' stroke-width='3'/>\", \"\")\n        RETURN \"<circle cx='\" & FORMAT(_cx, \"0\") & \"' cy='\" & FORMAT(_height/2, \"0\") & \"' r='\" & FORMAT(_radius, \"0\") & \"' fill='\" & _circleColor & \"'/>\" & _line,\n        \"\"\n    )\nVAR _svg = \"<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 \" & _width & \" \" & _height & \"'>\" & _steps & \"</svg>\"\nRETURN \"data:image/svg+xml;utf8,\" & _svg",
      "parameters": [
        {
          "name": "measure_name",
          "type": "string",
          "required": true,
          "description": "Name for the new SVG measure"
        },
        {
          "name": "current_step",
          "type": "measure",
          "required": true,
          "description": "Current step number (1-based)"
        },
        {
          "name": "total_steps",
          "type": "scalar",
          "required": false,
          "default": 5,
          "description": "Total number of steps"
        },
        {
          "name": "width",
          "type": "scalar",
          "required": false,
          "default": 120,
          "description": "Total width"
        },
        {
          "name": "height",
          "type": "scalar",
          "required": false,
          "default": 20,
          "description": "Height"
        },
        {
          "name": "color_complete",
          "type": "color",
          "required": false,
          "default": "%230EA5E9",
          "description": "Completed step color"
        },
        {
          "name": "color_incomplete",
          "type": "color",
          "required": false,
          "default": "%23E5E7EB",
          "description": "Incomplete step color"
        }
      ],
      "supported_visuals": ["table", "matrix"],
      "tags": ["gauge", "progress", "steps", "phases", "workflow"],
      "source": "Custom design",
      "version": "1.0.0"
    }
  ]
}
